(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1efe7d0d"],{1981:function(t,e,a){},"7b35":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("el-card",{staticClass:"article-card",attrs:{"body-style":{color:"red"}}},[e("el-form",{attrs:{inline:""}},[e("el-form-item",{attrs:{"label-width":"80px",label:"关键字"}},[e("el-input",{staticStyle:{width:"188px"},attrs:{placeholder:"根据文章标题搜索"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e("el-form-item",{attrs:{"label-width":"80px",label:"状态"}},[e("el-select",{model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("el-option",{attrs:{label:"启用",value:"1"}}),e("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),e("el-form-item",[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.state="",t.title=""}}},[t._v("清除")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.sift()}}},[t._v("搜索")])],1),e("el-form-item",{staticClass:"addButton",attrs:{"label-position":"right"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:t.addFunction}},[e("i",{staticClass:"el-icon-edit"}),t._v("新增技巧")])],1)],1),e("el-alert",{staticStyle:{"margin-bottom":"15px"},attrs:{title:"数据一共"+t.$store.state.questionsChoice.articles.counts+"条",type:"info","show-icon":"",closable:!1}}),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{background:"#fafafa",color:"#909399","border-bottom":"2px solid #e8e8e8"},"row-style":{height:"67px"}}},[e("el-table-column",{attrs:{label:"序号","min-width":"80px","cell-style":{"text-algin":"left"},align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s((t.page-1)*t.pageSize+(a.$index+1)))])]}}])}),e("el-table-column",{attrs:{label:"文章标题","min-width":"400px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(" "+t._s(a.row.title)+" "),a.row.videoURL?e("el-link",{staticStyle:{"font-size":"18px",color:"#0000ff"},attrs:{type:"primary",icon:"el-icon-film",underline:!1},on:{click:function(e){return t.aa(a.row.videoURL)}}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{label:"阅读数","min-width":"124px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.visits))])]}}])}),e("el-table-column",{attrs:{label:"录入人","min-width":"122px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.username))])]}}])}),e("el-table-column",{attrs:{label:"录入时间","min-width":"122px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("parseTimeByString")(a.row.createTime)))])]}}])}),e("el-table-column",{attrs:{label:"状态","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(1===a.row.state?"已启用":"已禁用"))])]}}])}),e("el-table-column",{attrs:{label:"操作","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"function"},[e("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.fn(a)}}},[t._v("预览")]),e("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.changeState(a.row.id,a.row.state)}}},[t._v(t._s(0===a.row.state?"启用":"禁用"))]),e("el-link",{attrs:{type:"primary",underline:!1,disabled:1===a.row.state},on:{click:function(e){return t.changeFunction(a)}}},[t._v("修改")]),e("el-link",{attrs:{type:"primary",underline:!1,disabled:1===a.row.state},on:{click:function(e){return t.delFunction(a.row.id)}}},[t._v("删除")])],1)]}}])})],1),t.$store.state.questionsChoice.articles.counts>0?e("div",{staticClass:"Pagination"},[e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[5,10,20,30],"page-size":t.pageSize,layout:"  prev, pager,next,sizes,jumper",total:t.$store.state.questionsChoice.articles.counts,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1),e("el-dialog",{attrs:{visible:t.viewShow,title:"预览文章",width:"60%"},on:{"update:visible":function(e){t.viewShow=e}}},[e("div",{staticClass:"addBoxBody"},[e("div",{staticClass:"articleTitle"},[e("h2",[t._v(t._s(t.viewTitle))]),e("span",[t._v(t._s(t._f("parseTimeByString")(t.viewCreateTime)))]),e("span",[t._v(t._s(t.viewUserName))]),e("span",[e("i",{staticClass:"el-icon-view",staticStyle:{"margin-right":"10px"}}),t._v(t._s(t.viewUserVisits)+" ")])]),e("div",{staticClass:"addBoxContent",staticStyle:{"background-color":"#f5f5f5"}},[e("div",{domProps:{innerHTML:t._s(t.viewHtml)}})])])]),e("el-dialog",{attrs:{visible:t.addShow,title:t.formTitle,width:"58%"},on:{"update:visible":function(e){t.addShow=e},close:t.closeDialog}},[e("div",{staticClass:"addShow"},[e("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.addRules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[e("el-input",{attrs:{placeholder:"请输入文章标签"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),e("el-form-item",{attrs:{label:"文章内容",prop:"articleBody"}},[e("quill-editor",{attrs:{options:t.options},model:{value:t.formData.articleBody,callback:function(e){t.$set(t.formData,"articleBody",e)},expression:"formData.articleBody"}})],1),e("el-form-item",{attrs:{label:"视频地址"}},[e("el-input",{attrs:{placeholder:"请输入视频地址"},model:{value:t.formData.videoURL,callback:function(e){t.$set(t.formData,"videoURL",e)},expression:"formData.videoURL"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",staticStyle:{display:"flex","justify-content":"end"},attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.close}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)]),t.videoShow?e("div",{staticClass:"mask"},[e("div",{staticClass:"close-vedio",on:{click:function(e){t.videoShow=!1}}},[e("i",{staticClass:"el-icon-close"})]),e("div",{staticClass:"video"},[e("video",{attrs:{src:t.videoURL,width:"800px",height:"600px",controls:"",autoplay:""}})])]):t._e()],1)},s=[],r=a("5530"),n=a("c7eb"),o=a("1da1"),l=a("b775"),c=a("2f62"),u=(a("99af"),function(t){return Object(l["a"])("/articles/".concat(t.id),"put",t)}),d=function(t){return Object(l["a"])("/articles/".concat(t.id),"delete",t)},p=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote"],["code-block","image","link"]],f={data:function(){return{tableData:[],page:1,pageSize:10,title:"",state:"",open:!1,videoShow:!1,viewShow:!1,viewTitle:"",viewCreateTime:"",viewUserName:"",viewUserVisits:"",viewHtml:"",addShow:!1,formTitle:"",articeId:"",videoURL:"",formData:{title:"",articleBody:"",videoURL:""},addRules:{title:[{required:!0,message:"请输入文章内容",trigger:"blur"}],articleBody:[{required:!0,message:"请输入文章内容",trigger:"blur"}]},options:{placeholder:"",modules:{toolbar:p}}}},created:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getArticleListAsync();case 2:t.tableData=t.$store.state.questionsChoice.articles.ArticleList;case 3:case"end":return e.stop()}}),e)})))()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])("questionsChoice/articles",["getArticleListAsync"])),{},{aa:function(t){this.videoShow=!0,this.videoURL=t,console.log(t)},handleSizeChange:function(t){var e=this;return Object(o["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.page=1,e.pageSize=t,a.next=4,e.getArticleListAsync({page:e.page,pagesize:t});case 4:e.tableData=e.$store.state.questionsChoice.articles.ArticleList;case 5:case"end":return a.stop()}}),a)})))()},handleCurrentChange:function(t){var e=this;return Object(o["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.page=t,a.next=3,e.getArticleListAsync({page:t,pagesize:e.pageSize});case 3:e.tableData=e.$store.state.questionsChoice.articles.ArticleList;case 4:case"end":return a.stop()}}),a)})))()},sift:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state){e.next=6;break}return e.next=3,t.getArticleListAsync({page:1,pagesize:t.pageSize,keyword:t.title,state:t.state});case 3:t.tableData=t.$store.state.questionsChoice.articles.ArticleList,e.next=9;break;case 6:return e.next=8,t.getArticleListAsync({page:1,pagesize:t.pageSize,keyword:t.title});case 8:t.tableData=t.$store.state.questionsChoice.articles.ArticleList;case 9:case"end":return e.stop()}}),e)})))()},fn:function(t){this.viewShow=!0,this.viewTitle=t.row.title,this.viewCreateTime=t.row.createTime,this.viewUserName=t.row.username,this.viewUserVisits=t.row.visits,this.viewHtml=t.row.articleBody},addFunction:function(){this.formData.title="",this.formData.articleBody="",this.formData.videoURL="",this.addShow=!0,this.formTitle="新增文章"},changeFunction:function(t){this.addShow=!0,this.formTitle="修改文章",this.formData.title=t.row.title,this.formData.articleBody=t.row.articleBody,this.formData.videoURL=t.row.videoURL,this.formId=t.row.id},closeDialog:function(){this.$refs.formData.resetFields(),this.formData.title="",this.formData.articleBody="",this.formData.videoURL=""},submit:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("新增文章"!==t.formTitle){e.next=4;break}t.$refs.formData.validate(function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(a){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}return e.next=3,Object(l["a"])("/articles","post",t.formData);case 3:return t.page=1,e.next=6,t.getArticleListAsync({page:t.page,pagesize:t.pageSize,keyword:t.title});case 6:t.tableData=t.$store.state.questionsChoice.articles.ArticleList,t.addShow=!1,t.$message({message:"操作成功",type:"success"}),t.formData.title="",t.formData.articleBody="",t.formData.videoURL="",e.next=14;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 4:if("修改文章"!==t.formTitle){e.next=15;break}return e.next=7,u({id:t.formId,title:t.formData.title,articleBody:t.formData.articleBody,videoURL:t.formData.videoURL});case 7:return e.next=9,t.getArticleListAsync({page:t.page,pagesize:t.pageSize,keyword:t.title});case 9:t.tableData=t.$store.state.questionsChoice.articles.ArticleList,t.addShow=!1,t.$message({message:"操作成功",type:"success"}),t.formData.title="",t.formData.articleBody="",t.formData.videoURL="";case 15:case"end":return e.stop()}}),e)})))()},delFunction:function(t){var e=this;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return d({id:t}),e.$message({type:"success",message:"删除成功!"}),a.next=4,e.getArticleListAsync({page:e.page,pagesize:e.pageSize,keyword:e.title});case 4:return e.tableData=e.$store.state.questionsChoice.articles.ArticleList,a.next=7,e.getArticleListAsync({page:e.page,pagesize:e.pageSize,keyword:e.title});case 7:e.tableData=e.$store.state.questionsChoice.articles.ArticleList;case 8:case"end":return a.stop()}}),a)})))).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},changeState:function(t,e){var a=this;return Object(o["a"])(Object(n["a"])().mark((function i(){return Object(n["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==e){i.next=9;break}return i.next=3,Object(l["a"])("/articles/".concat(t,"/1"),"post");case 3:return i.next=5,a.getArticleListAsync({page:a.page,pagesize:a.pageSize,keyword:a.title});case 5:a.tableData=a.$store.state.questionsChoice.articles.ArticleList,a.$message({message:"操作成功",type:"success"}),i.next=15;break;case 9:return i.next=11,Object(l["a"])("/articles/".concat(t,"/0"),"post");case 11:return i.next=13,a.getArticleListAsync({page:a.page,pagesize:a.pageSize,keyword:a.title});case 13:a.tableData=a.$store.state.questionsChoice.articles.ArticleList,a.$message({message:"操作成功",type:"success"});case 15:case"end":return i.stop()}}),i)})))()},close:function(){this.addShow=!1,this.formData.title="",this.formData.articleBody="",this.formData.videoURL=""}})},m=f,h=(a("92a8"),a("2877")),g=Object(h["a"])(m,i,s,!1,null,"4c7ffc38",null);e["default"]=g.exports},"92a8":function(t,e,a){"use strict";a("1981")}}]);
//# sourceMappingURL=chunk-1efe7d0d.0dca3988.js.map