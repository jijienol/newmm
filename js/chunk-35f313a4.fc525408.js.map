{"version":3,"sources":["webpack:///./src/module-hmmm/components/companys-add.vue","webpack:///src/module-hmmm/components/companys-add.vue","webpack:///./src/module-hmmm/components/companys-add.vue?0a52","webpack:///./src/module-hmmm/components/companys-add.vue?707f","webpack:///./src/module-hmmm/components/companys-add.vue?11f3"],"names":["render","_vm","this","_c","_self","staticClass","attrs","titleInfo","text","pageTitle","dialogFormVisible","on","$event","ref","staticStyle","ruleInline","formBase","model","value","shortName","callback","$$v","$set","expression","isFamous","_v","company","type","indexOf","_k","keyCode","key","handleFilter","apply","arguments","handleProvince","province","_l","citySelect","item","city","cityDate","tags","minRows","maxRows","remarks","slot","dialogFormH","_s","$t","createData","staticRenderFns","name","props","Object","required","data","message","trigger","computed","methods","dialogFormV","getCityData","provinces","e","citys","_this","$refs","dataForm","validate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","valid","wrap","_context","prev","next","_objectSpread","id","update","then","$emit","add","$message","error","stop","_x","mounted","created","updated","component"],"mappings":"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","file":"js/chunk-35f313a4.fc525408.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-form\"},[_c('el-dialog',{attrs:{\"title\":_vm.titleInfo.text+_vm.titleInfo.pageTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"width\":\"80%\",\"margin-left\":\"10px\"},attrs:{\"rules\":_vm.ruleInline,\"model\":_vm.formBase,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"企业名称\",\"prop\":\"shortName\"}},[_c('el-input',{model:{value:(_vm.formBase.shortName),callback:function ($$v) {_vm.$set(_vm.formBase, \"shortName\", $$v)},expression:\"formBase.shortName\"}}),_c('el-checkbox',{model:{value:(_vm.formBase.isFamous),callback:function ($$v) {_vm.$set(_vm.formBase, \"isFamous\", $$v)},expression:\"formBase.isFamous\"}},[_vm._v(\"是否为名企\")])],1),_c('el-form-item',{attrs:{\"label\":\"所属公司\",\"prop\":\"company\"}},[_c('el-input',{model:{value:(_vm.formBase.company),callback:function ($$v) {_vm.$set(_vm.formBase, \"company\", $$v)},expression:\"formBase.company\"}}),_c('p',[_vm._v(\"https://www.tianyancha.com （在此可查询所属公司全称及简称）\")])],1),_c('el-form-item',{attrs:{\"label\":\"城市\",\"prop\":\"province\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"filterable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleFilter.apply(null, arguments)},\"change\":_vm.handleProvince},model:{value:(_vm.formBase.province),callback:function ($$v) {_vm.$set(_vm.formBase, \"province\", $$v)},expression:\"formBase.province\"}},_vm._l((_vm.citySelect.province),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"filterable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleFilter.apply(null, arguments)}},model:{value:(_vm.formBase.city),callback:function ($$v) {_vm.$set(_vm.formBase, \"city\", $$v)},expression:\"formBase.city\"}},_vm._l((_vm.citySelect.cityDate),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"方向（企业标签）\",\"prop\":\"tags\"}},[_c('el-input',{model:{value:(_vm.formBase.tags),callback:function ($$v) {_vm.$set(_vm.formBase, \"tags\", $$v)},expression:\"formBase.tags\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4},\"placeholder\":\"请输入\"},model:{value:(_vm.formBase.remarks),callback:function ($$v) {_vm.$set(_vm.formBase, \"remarks\", $$v)},expression:\"formBase.remarks\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.dialogFormH}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"add-form\">\n    <el-dialog :title=\"titleInfo.text+titleInfo.pageTitle\" :visible.sync=\"dialogFormVisible\">\n      <el-form\n        :rules=\"ruleInline\"\n        ref=\"dataForm\"\n        :model=\"formBase\"\n        label-position=\"left\"\n        label-width=\"150px\"\n        style=\"width: 80%; margin-left:10px;\"\n      >\n        <el-form-item label=\"企业名称\" prop=\"shortName\">\n          <el-input v-model=\"formBase.shortName\"></el-input>\n          <el-checkbox v-model=\"formBase.isFamous\">是否为名企</el-checkbox>\n        </el-form-item>\n        <el-form-item label=\"所属公司\" prop=\"company\">\n          <el-input v-model=\"formBase.company\"></el-input>\n          <p>https://www.tianyancha.com （在此可查询所属公司全称及简称）</p>\n        </el-form-item>\n        <el-form-item label=\"城市\" prop=\"province\">\n          <el-select\n            class=\"filter-item\"\n            style=\"width: 130px;\"\n            v-model=\"formBase.province\"\n            @keyup.enter=\"handleFilter\"\n            @change=\"handleProvince\"\n            filterable\n          >\n            <el-option v-for=\"item in citySelect.province\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n          </el-select>\n          <el-select\n            class=\"filter-item\"\n            style=\"width: 130px;\"\n            v-model=\"formBase.city\"\n            @keyup.enter=\"handleFilter\"\n            filterable\n          >\n            <el-option v-for=\"item in citySelect.cityDate\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"方向（企业标签）\" prop=\"tags\">\n          <el-input v-model=\"formBase.tags\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remarks\">\n          <el-input\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 4}\"\n            placeholder=\"请输入\"\n            v-model=\"formBase.remarks\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormH\">{{$t('table.cancel')}}</el-button>\n        <el-button type=\"primary\" @click=\"createData\">{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { update, add } from '@/api/base/users'\nimport { provinces, citys } from '@/api/hmmm/citys.js'\nexport default {\n  name: 'CompanysAdd',\n  props: {\n    titleInfo: {\n      type: Object,\n      required: true\n    },\n    formBase: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      dialogFormVisible: false,\n      citySelect: {\n        province: [],\n        cityDate: []\n      },\n      // 表单验证\n      ruleInline: {\n        shortName: [\n          { required: true, message: '企业简称不能为空', trigger: 'blur' }\n        ],\n        province: [\n          { required: true, message: '请选择省份', trigger: 'change' }\n        ],\n        tags: [{ required: true, message: '请请输标签', trigger: 'blur' }]\n      }\n    }\n  },\n  computed: {},\n  methods: {\n    // 弹层显示\n    dialogFormV () {\n      this.dialogFormVisible = true\n    },\n    // 弹层隐藏\n    dialogFormH () {\n      this.dialogFormVisible = false\n    },\n    // 获取省\n    getCityData: function () {\n      this.citySelect.province = provinces()\n    },\n    // 选省获取到市\n    handleProvince: function (e) {\n      this.citySelect.cityDate = citys(e)\n      this.formBase.city = this.citySelect.cityDate[0]\n    },\n    // 表单提交\n    createData () {\n      this.$refs.dataForm.validate(async valid => {\n        if (valid) {\n          this.dialogFormH()\n          const data = {\n            ...this.formBase\n          }\n          if (this.formBase.id) {\n            await update(data).then(() => {\n              this.$emit('newDataes', this.formBase)\n            })\n          } else {\n            await add(this.formBase).then(() => {\n              this.$emit('newDataes', this.formBase)\n            })\n          }\n        } else {\n          this.$message.error('*号为必填项!')\n        }\n      })\n    }\n  },\n  // 挂载结束\n\n  mounted: function () {},\n  // 创建完毕状态\n  created () {\n    this.getCityData()\n  },\n  // 组件更新\n  updated: function () {}\n}\n</script>\n<style>\n.el-form--label-left .el-form-item__label {\n  text-align: right;\n}\n.el-form-item--medium {\n  margin-bottom: 22px;\n}\n.el-dialog__footer {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./companys-add.vue?vue&type=template&id=44cd9740&\"\nimport script from \"./companys-add.vue?vue&type=script&lang=js&\"\nexport * from \"./companys-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./companys-add.vue?vue&type=style&index=0&id=44cd9740&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=style&index=0&id=44cd9740&prod&lang=css&\""],"sourceRoot":""}